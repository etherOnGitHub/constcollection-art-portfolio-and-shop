{% extends "base.html" %}
{% block title %}{{ exhibition.title }}{% endblock title %}

{% block content %}
<section class="py-5">
  <div class="container">
    <div class="row align-items-start">
      <div class="col-12 col-md-6 mb-4 mb-md-0">
        {% if exhibition.video %}
          <video class="w-100" controls {% if exhibition.cover_image %}poster="{{ exhibition.cover_image.url }}"{% endif %}>
            <source src="{{ exhibition.video.url }}" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        {% elif exhibition.cover_image %}
          <img src="{{ exhibition.cover_image.url }}" alt="{{ exhibition.title }} cover" class="img-fluid w-100">
        {% else %}
          <!-- no media available -->
        {% endif %}
      </div>

      <div class="col-12 col-md-6">
        <h1 class="mb-3">{{ exhibition.title }}</h1>
        <p class="text-muted"><strong>Dates:</strong> {{ exhibition.start_date|date:"M d, Y" }} - {{ exhibition.end_date|date:"M d, Y" }}</p>
        <div class="exhibition-description mb-3">
          {{ exhibition.description|safe }}
        </div>

        {% if user.is_superuser %}
          <a href="{% url 'edit_exhibition' exhibition.pk %}" class="btn btn-secondary btn-shop-highlight">Edit Exhibition</a>
          <a href="{% url 'delete_exhibition' exhibition.pk %}" class="btn btn-danger">Delete Exhibition</a>
        {% endif %}

        <p class="mt-3">
          <a href="{% url 'exhibition_list' %}" class="back-to-exhibitions">Back to exhibitions</a>
        </p>
      </div>
    </div>
  </div>
</section>
{% endblock %}